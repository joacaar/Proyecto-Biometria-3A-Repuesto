<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!--
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Quote Machine Generator!</title>
  <link rel="stylesheet" href="style.css"> -->
</head>
<script type="text/javascript" src="../ux/proxy.js"></script>
<script>

  var elProxy = new Proxy();

  function quanEsCarrega(){

    console.log("Plana UX carregada.")

  }

  function insertarMedicionPlana(){

    var _medidaCO = document.getElementById('medidaCOA').value;
    var _hora = document.getElementById('horaA').value;
    var _fecha = document.getElementById('fechaA').value;

    var datos = {
      medidaCO: _medidaCO,
      hora: _hora,
      fecha: _fecha,
      latitud: 0.0,
      longitud: 0.0
    }

    console.log("medidaCO: " + datos.medidaCO);
    console.log("horaA: "+ datos.hora);
    console.log("fechaA: "+ datos.fecha);

    elProxy.insertarMedicionCO(datos);

  }

  function getMedicionesPorFechaPlana(){

    var fecha = document.getElementById('fechaP').value;

    console.log("fechaP: " + fecha);

    elProxy.getMedicionesPorFecha(fecha, function(res){

      console.log("medidaCO: " + res[0].medidaCO);
      console.log("fecha: " + res[0].fecha);

      for( let i = 0; i < res.length; i++ ){

        var inputMedidaCO = document.createElement("INPUT"); // TEXTO QUE INDICA QUE ES EL NUMERO MAYOR
        var medidaCO = document.createElement("INPUT"); // VALOR DEL NÚMERO MAYOR

        inputMedidaCO.setAttribute("value", "medidaCO" + (i + 1));

        medidaCO.setAttribute("type", "text");
        medidaCO.setAttribute("value", res[i].medidaCO);
        medidaCO.setAttribute("id", "medidaCO" + (i + 1));

        document.body.appendChild(inputMedidaCO);
        document.body.appendChild(medidaCO);

      }

    });

  }


</script>

<body>

<h2>Insertar Medición</h2>

  Mayor:
  <br>
  <input id="medidaCOA" type="number" value = 81>
  <br>
  Hora:
  <br>
  <input id="horaA" type"text" value = "2:2">
  <br>
  Fecha:
  <br>
  <input id="fechaA" type"text" value = "2:2">
  <br>
  <br>
  <button onclick="insertarMedicionPlana()">Inserta Medición</button>

<br>

<h2>Ver Medición</h2>

  Fecha:
  <br>
  <input id="fechaP" type="text" value="2:2">
  <br>
  <br>
  <button onclick="getMedicionesPorFechaPlana()"> Obtener Medición </button>

<br>

</body>

</html>
